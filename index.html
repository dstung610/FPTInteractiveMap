<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./fptmap.css">
    <title>Document</title>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <div class="wrapper" id="mount">
                <!-- BotLeft Info Box -->
                <div class="info" :class="{hide : isZoomed}">
                    <h2>Global<br>Presence</h2>
                    <div class="flexColumn">
                        <div class="SubGroup">
                            <h3 class="color-orange">26 </h3>
                            <h4>Countries & Territories</h4>
                        </div>
                        <div class="SubGroup">
                            <h3 class="color-orange">57 </h3>
                            <h4>Offices</h4>
                        </div>
                        <div class="SubGroup">
                            <h3 class="color-orange">22 </h3>
                            <h4>Development Centers</h4>
                        </div>
                    </div>
                </div>

                <!-- Logo on BotRight -->
                <div class="img-fluid logo">
                    <img id="fpt-logo" :class="{hide: isZoomed}" src="./assets/fpt-logo.png" @click="hrefLink('https://www.fpt-software.com/')" /><br>
                </div>

                <!-- UI Control -->
                <span id="backButton" class="UI" :class="{hide: !isZoomed}" @click="backToWorld()"><img src="./assets/crosshair.png"/></span>

                <!-- UI Menu Text -->

                <div id="menuWrapper" class="UI" :class="{gradBG: isMenuShow}">
                    <div id="menuContent" class="flexColumn">
                        <div id="menuButton" class="flexRow" @click="menuToggle()" :class="{hide : !isZoomed}">
                            <div>
                                <span id="menuTitle" class="UI">Country</span>
                            </div>
                            <div>
                                <span id="menuArrow" :class="{pointIn: isMenuShow}"><img src="./assets/arrow.png"/></span>
                            </div>
                        </div>
                        <div :class="{hide: !isMenuShow}">
                            <img id="fpt-logo-menu" class="UI" src="./assets/fpt-logo.png" @click="hrefLink('https://www.fpt-software.com/')" />
                            <div class="flexColumn">
                                <div>
                                    <h3>Asia</h3>
                                </div>
                                <div>
                                    <h4 class=" country color-orange" id='VN' @mouseover="hoverCountry('VN')" @mouseleave="defaultMap()" @click="activateCountry('VN')">Vietnam (Headquarter)</h4>
                                </div>
                                <div class="flexRow">
                                    <div class="flexColumn SubGroup" id="AsiaSubGroup1">
                                        <p class="country">Australia</p>
                                        <p class="country">China</p>
                                        <p class="country">Hongkong</p>
                                        <p class="country">India</p>
                                        <p class="country">Indonesia</p>
                                    </div>
                                    <div class="flexColumn SubGroup" id="AsiaSubGroup2">
                                        <span class="country" id='JP' @mouseover="hoverCountry('JP')" @mouseleave="defaultMap()" @click="activateCountry('JP')">Japan</span>
                                        <p class="country">New Zealand</p>
                                        <p class="country">Malaysia</p>
                                        <p class="country">Myanmar</p>
                                        <p class="country">Philippine</p>
                                    </div>
                                    <div class="flexColumn SubGroup" id="AsiaSubGroup3">
                                        <p class="country">Singapore</p>
                                        <p class="country">South Korea</p>
                                        <p class="country">Taiwan</p>
                                        <p class="country">Thailand</p>
                                        <p class="country">UAE</p>
                                    </div>
                                </div>
                            </div>

                            <div class="flexColumn">
                                <div>
                                    <h3 id="Europe">Europe</h3>
                                </div>
                                <div class="flexRow">
                                    <div class="flexColumn SubGroup" id="EuropeSubGroup1">
                                        <p class="country">Germany</p>
                                        <p class="country">France</p>
                                        <p class="country">Slovakia</p>
                                    </div>
                                    <div class="flexColumn SubGroup" id="EuropeSubGroup2">
                                        <p class="country">Czech Republic</p>
                                        <p class="country">United Kingdom</p>
                                        <p class="country">Belgium</p>
                                    </div>
                                </div>
                            </div>
                            <div class="flexColumn">
                                <div>
                                    <h3>America</h3>
                                </div>
                                <div class="flexRow">
                                    <div class="flexColumn SubGroup">
                                        <p class="country">USA</p>
                                        <p class="country">Canada</p>
                                    </div>
                                    <div class="flexColumn SubGroup">
                                        <p class="country">Colombia</p>
                                        <p class="country">Costa Rica</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Worldmap UI -->
                <div class="flexColumn" id="AsiaGroup" :class="{hide: isZoomed}">
                    <div>
                        <h3>Asia</h3>
                    </div>
                    <div>
                        <h4 class="country color-orange" @mouseover="hoverCountry('VN')" @mouseleave="defaultMap()" @click="activateCountry('VN')">Vietnam (Headquarter)</h4>
                    </div>
                    <div class="flexRow">
                        <div class="flexColumn SubGroup" id="AsiaSubGroup1">
                            <p class="country">Australia</p>
                            <p class="country">China</p>
                            <p class="country">Hongkong</p>
                            <p class="country">India</p>
                            <p class="country">Indonesia</p>
                        </div>
                        <div class="flexColumn SubGroup" id="AsiaSubGroup2">
                            <span class="country" id='JP' @mouseover="hoverCountry('JP')" @mouseleave="defaultMap()" @click="activateCountry('JP')">Japan</span>
                            <p class="country">New Zealand</p>
                            <p class="country">Malaysia</p>
                            <p class="country">Myanmar</p>
                            <p class="country">Philippine</p>
                        </div>
                        <div class="flexColumn SubGroup" id="AsiaSubGroup3">
                            <p class="country">Singapore</p>
                            <p class="country">South Korea</p>
                            <p class="country">Taiwan</p>
                            <p class="country">Thailand</p>
                            <p class="country">UAE</p>
                        </div>
                    </div>
                </div>
                <div class="flexColumn" id="EuropeGroup" :class="{hide: isZoomed}">
                    <div>
                        <h3 id="Europe">Europe</h3>
                    </div>
                    <div class="flexRow">
                        <div class="flexColumn SubGroup" id="EuropeSubGroup1">
                            <p class="country">Germany</p>
                            <p class="country">France</p>
                            <p class="country">Slovakia</p>
                        </div>
                        <div class="flexColumn SubGroup" id="EuropeSubGroup2">
                            <p class="country">Czech Republic</p>
                            <p class="country">United Kingdom</p>
                            <p class="country">Belgium</p>
                        </div>
                    </div>
                </div>
                <div class="flexColumn" id="AmericaGroup" :class="{hide: isZoomed}">
                    <div>
                        <h3>America</h3>
                    </div>
                    <div class="flexRow">
                        <div class="flexColumn SubGroup">
                            <p class="country">USA</p>
                            <p class="country">Canada</p>
                        </div>
                        <div class="flexColumn SubGroup">
                            <p class="country">Colombia</p>
                            <p class="country">Costa Rica</p>
                        </div>
                    </div>
                </div>
                <!-- Tooltip -->
                <div id="tooltip" class="UI">
                    <p>Some tooltips</p>
                </div>
                <!-- Load SVG map external -->
                <div id="mapContainer" class="mapContainer">
                    <object :data="mapSource" id="worldmap" class="map" :class="{hide: isZoomed}" type="image/svg+xml"></object>
                    <object :data="mapZoomSource" id="zoommap" class="map" :class="{hide: !isZoomed}" type="image/svg+xml"></object>
                </div>

                <!-- Vietnam Addition Info on zoomed-->
                <div>
                    <span class="country hide" id="zoom-vn-hanoi" @click="openTour()">HANOI</span>
                </div>

                <!-- Tour Frame -->
                <div class="loader" :class="{hide: !isLoading}"></div>
                <iframe id="tourframe" :class="{hidden: isHideTour}" style="position: absolute" frameborder='0' style='overflow:hidden;height:100%;width:100%' height='100%' width='100%'></iframe>

            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@3.2.4"></script>
    <script>
        const defaultMap = "worldmapid.svg";
        var docZoomMap, docWorldMap = document.getElementById('worldmap');

        docWorldMap.onload = function() {
            objDoc = docWorldMap.contentDocument
            svg = objDoc.getElementById('worldmap');
            console.log(svg);
        }

        const vm = Vue.createApp({
            data() {
                return {
                    mapName: defaultMap,
                    mapZoomName: defaultMap,
                    isHide: false,
                    isHideTour: true,
                    isLoading: false,
                    menuShow: false,
                    isShowList: false,
                    isZoomed: false,
                    isVietnam: false,
                    tourSrc: "https://campus.fpt-software.com/en/",
                    countries: {
                        'VN': 'Vietnam',
                        'JP': 'Japan'
                    }
                }

            },
            methods: {
                hoverCountry(id) {
                    console.log(this.mapName);
                },
                defaultMap() {
                    this.mapName = defaultMap;
                    console.log("Default: " + this.mapName);
                },
                activateCountry(country) {
                    this.isZoomed = true;
                    this.mapZoomName = "zoom-" + this.countries[country] + ".svg";
                    console.log("Zoom: " + this.mapZoomName);
                    if (country === 'VN') {
                        this.isVietnam = true;
                    }
                },
                menuToggle() {
                    this.isShowList = !this.isShowList;
                },
                backToWorld() {
                    this.isZoomed = false;
                    this.mapName = defaultMap;
                },
                openTour() {
                    this.isLoading = true;
                    this.isHideTour = false;
                    document.getElementById("tourframe").src = this.tourSrc;
                },
                hrefLink(link) {
                    window.open(link);
                }
            },
            computed: {
                mapSource() {
                    return "./assets/" + this.mapName;
                },
                mapZoomSource() {
                    return "./assets/" + this.mapZoomName;
                },
                isMenuShow() {
                    return this.isZoomed && this.isShowList;
                }
            }
        }).mount("#mount");
        // vm.mount("#mount");

        function initTour() {
            document.getElementById('zoom-vn-hanoi').click();
        };

        function zoomClick(id) {
            document.getElementById(id).click();
        };

        const tooltipData = {
            "VN": "Vietnam",
            "JP": "Japan"
        };

        // window.onmouseover = updateTooltip;
        function zoomClickHandler(name) {
            initTour();
        }

        function updateTooltipPosition(pos) {
            if (pos === "left") {
                document.getElementById('tooltip').style.top = 50 + '%';
                document.getElementById('tooltip').style.left = 30 + '%';
            }
            if (pos === "right") {
                document.getElementById('tooltip').style.top = 50 + '%';
                document.getElementById('tooltip').style.left = 75 + '%';
            }

        };

        function tooltipShow(id) {
            var pos;
            if (id === "VN") {
                pos = "left";
            } else {
                pos = 'right';
            }
            updateTooltipPosition(pos);
            document.getElementById('tooltip').style.display = "block";
            console.log('tooltip show');
        };

        function tooltipHide() {
            document.getElementById('tooltip').style.display = "none";
            console.log('tooltip hide');
        };
    </script>
</body>

</html>